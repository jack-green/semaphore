{"version":3,"sources":["Components/Dude/Dude.module.css","Components/Header.module.css","Components/Controls.module.css","Components/Create.module.css","App.module.css","Components/Controls.jsx","Components/Create.jsx","Components/Dude/letters.js","Components/Dude/Dude.jsx","Components/Header.jsx","App.jsx","serviceWorker.js","index.jsx"],"names":["module","exports","Controls","speed","setSpeed","isPaused","togglePause","replay","className","styles","controls","type","onClick","Create","props","encode","message","state","setState","base64","btoa","setMessage","e","target","value","isReply","this","create","method","onSubmit","htmlFor","placeholder","onChange","id","name","React","Component","letters","a","b","c","d","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","7","8","9","numerals","cancel","transitionSpeed","letterHold","spaceLength","doubleLength","Dude","nextLetter","nextIndex","queue","speedMultiplier","length","char","shift","delay","setLetter","toLowerCase","lastDelay","timeout","setTimeout","lastChar","isNumerals","push","test","unshift","createQueue","leftAngle","rightAngle","clearTimeout","letter","container","dude","head","body","leftArm","style","transform","transitionDuration","arm","pole","flag","rightArm","defaultProps","renderMessage","index","classes","past","current","future","key","join","console","log","Header","header","speeds","App","direction","indexOf","Math","max","min","dudeRef","setPaused","playNumber","urlParams","URLSearchParams","window","location","search","has","get","atob","substr","createRef","app","ref","href","Boolean","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.3d74f1b8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Dude_container__3vxxu\",\"dude\":\"Dude_dude__1JGdU\",\"head\":\"Dude_head__vfMsQ\",\"body\":\"Dude_body__3BuzY\",\"leftArm\":\"Dude_leftArm__C3Fhn\",\"rightArm\":\"Dude_rightArm__2Ecfd\",\"arm\":\"Dude_arm__2urI0\",\"pole\":\"Dude_pole__2SqFq\",\"flag\":\"Dude_flag__3N6VE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3tv3i\",\"message\":\"Header_message__mOYIq\",\"char\":\"Header_char__34l5m\",\"current\":\"Header_current__2U-_R\",\"past\":\"Header_past__hrFSq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__HI61T\",\"speed\":\"Controls_speed__14xdt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"create\":\"Create_create__1Xnp-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__2kOhy\"};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './Controls.module.css';\n\nconst Controls = ({\n    speed,\n    setSpeed,\n    isPaused,\n    togglePause,\n    replay,\n}) => (\n    <div className={styles.controls}>\n        <div className={styles.speed}>\n            <small>Speed</small>\n            <div>\n                <button type=\"button\" onClick={() => setSpeed(-1)}>-</button>\n                <span>{`${speed}x`}</span>\n                <button type=\"button\" onClick={() => setSpeed(1)}>+</button>\n            </div>\n        </div>\n        {isPaused\n            ? <button type=\"button\" onClick={togglePause}>Continue</button>\n            : <button type=\"button\" onClick={togglePause}>Pause</button>}\n        <button type=\"button\" onClick={replay}>Replay</button>\n    </div>\n);\n\nControls.propTypes = {\n    speed: PropTypes.number.isRequired,\n    setSpeed: PropTypes.func.isRequired,\n    isPaused: PropTypes.bool.isRequired,\n    togglePause: PropTypes.func.isRequired,\n    replay: PropTypes.func.isRequired,\n};\n\nexport default Controls;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Create.module.css';\n\nexport default class Create extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            message: '',\n            base64: '',\n            // error: null,\n        };\n    }\n\n    encode = () => {\n        const { message } = this.state;\n        this.setState({ base64: btoa(message) });\n    }\n\n    setMessage = (e) => {\n        const message = e.target.value;\n        this.setState({ message });\n    }\n\n    render() {\n        const { isReply } = this.props;\n        const { message, base64 } = this.state;\n        return (\n            <form className={styles.create} method=\"get\" onSubmit={this.encode}>\n                <label htmlFor=\"message\">\n                    {isReply ? 'Write a reply' : 'Send a semaphore message'}\n                    <input\n                        type=\"text\"\n                        placeholder=\"Your Message\"\n                        value={message}\n                        onChange={this.setMessage}\n                        id=\"message\"\n                    />\n                </label>\n                <button type=\"submit\">Signal</button>\n                <input type=\"hidden\" name=\"m\" value={base64} />\n            </form>\n        );\n    }\n}\n\nCreate.propTypes = {\n    isReply: PropTypes.bool.isRequired,\n};\n","// taken from https://en.wikipedia.org/wiki/Flag_semaphore\nconst letters = {\n    a: [225, 180],\n    b: [270, 180],\n    c: [315, 180],\n    d: [0, 180],\n    e: [180, 45],\n    f: [180, 90],\n    g: [180, 135],\n    h: [270, 225],\n    i: [225, 315],\n    j: [0, 90],\n    k: [225, 0],\n    l: [225, 45],\n    m: [225, 90],\n    n: [225, 135],\n    o: [270, 315],\n    p: [270, 0],\n    q: [270, 45],\n    r: [270, 90],\n    s: [270, 135],\n    t: [315, 0],\n    u: [315, 45],\n    v: [0, 135],\n    w: [45, 90],\n    x: [45, 135],\n    y: [315, 90],\n    z: [135, 90],\n    0: [225, 180],\n    1: [270, 180],\n    2: [315, 180],\n    3: [0, 180],\n    4: [180, 45],\n    5: [180, 90],\n    7: [180, 135],\n    8: [270, 225],\n    9: [225, 315],\n    ' ': [135, 225],\n    numerals: [0, 45],\n    cancel: [270, 135],\n};\n\nexport default letters;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Dude.module.css';\nimport letters from './letters';\n\nconst transitionSpeed = 500;\nconst letterHold = 500;\nconst spaceLength = 500;\nconst doubleLength = 0;\n\nfunction createQueue(message) {\n    const queue = [];\n    let lastChar = null;\n    let isNumerals = false;\n    for (let c = 0; c < message.length; c += 1) {\n        const char = message[c].toLowerCase();\n        if (typeof letters[char] !== 'undefined') {\n            if (char === lastChar) queue.push('double');\n            lastChar = char;\n            if (/^\\d$/.test(char)) {\n                if (!isNumerals) queue.push('numerals');\n                isNumerals = true;\n                queue.push(char);\n            } else {\n                if (isNumerals) queue.push('alpha');\n                isNumerals = false;\n                queue.push(char);\n            }\n        }\n    }\n\n    if (queue.length) {\n        queue.unshift('start');\n        queue.push('end');\n    }\n\n    return queue;\n}\n\nexport default class Dude extends React.Component {\n    static getDerivedStateFromProps(props, state) {\n        const { speed } = props;\n        if (speed !== state.speed) {\n            const speedMultiplier = 1 / speed;\n            return {\n                speedMultiplier,\n                speed,\n            };\n        }\n        return null;\n    }\n\n    constructor(props) {\n        super(props);\n        const { message, speed } = props;\n        const queue = createQueue(message);\n        this.state = {\n            queue,\n            leftAngle: 0,\n            rightAngle: 0,\n            speed,\n            speedMultiplier: 1 / speed,\n            lastDelay: 0,\n        };\n        this.timeout = null;\n    }\n\n    componentDidMount() {\n        const { queue } = this.state;\n        if (queue.length) {\n            this.nextLetter();\n        }\n    }\n\n    componentWillUnmount() {\n        clearTimeout(this.timeout);\n    }\n\n    setPaused(isPaused) {\n        const { lastDelay, speedMultiplier } = this.state;\n        if (isPaused) {\n            clearTimeout(this.timeout);\n        } else {\n            this.timeout = setTimeout(this.nextLetter, lastDelay * speedMultiplier);\n        }\n    }\n\n    setLetter(l) {\n        let letter = l;\n        if (typeof letters[letter] === 'undefined') {\n            letter = ' '; // treat unknown chars as spaces\n        }\n        const [leftAngle, rightAngle] = letters[letter];\n        this.setState({\n            leftAngle,\n            rightAngle,\n        });\n    }\n\n    nextLetter = () => {\n        const { speed, nextIndex } = this.props;\n        const { queue, speedMultiplier } = this.state;\n        if (speed === 0 || !queue.length) return;\n        const char = queue.shift();\n        let delay = transitionSpeed + letterHold;\n        switch (char) {\n        case 'start':\n            this.setLetter(' ');\n            delay = transitionSpeed;\n            break;\n        case 'end':\n            this.setLetter(' ');\n            nextIndex(); // move off the end\n            break;\n        case 'double':\n            this.setLetter(' ');\n            delay = transitionSpeed + doubleLength;\n            break;\n        case 'numerals':\n            this.setLetter('numerals');\n            break;\n        case 'alpha':\n            this.setLetter('j');\n            break;\n        case ' ':\n            delay = transitionSpeed + spaceLength;\n            // current.innerHTML += '&nbsp;';\n            nextIndex();\n            this.setLetter('space');\n            break;\n        default:\n            // current.innerText += char;\n            nextIndex();\n            this.setLetter(char.toLowerCase());\n        }\n\n        if (char !== 'end') {\n            this.setState({ lastDelay: delay });\n            this.timeout = setTimeout(this.nextLetter, delay * speedMultiplier);\n        }\n    }\n\n    render() {\n        const { leftAngle, rightAngle, speedMultiplier } = this.state;\n        return (\n            <div className={styles.container}>\n                <div className={styles.dude}>\n                    <div className={styles.head} />\n                    <div className={styles.body} />\n                    <div className={styles.leftArm} style={{ transform: `rotate(${leftAngle}deg)`, transitionDuration: `${transitionSpeed * speedMultiplier}ms` }}>\n                        <div className={styles.arm} />\n                        <div className={styles.pole} />\n                        <div className={styles.flag} />\n                    </div>\n                    <div className={styles.rightArm} style={{ transform: `rotate(${rightAngle}deg)`, transitionDuration: `${transitionSpeed * speedMultiplier}ms` }}>\n                        <div className={styles.arm} />\n                        <div className={styles.pole} />\n                        <div className={styles.flag} />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nDude.propTypes = {\n    message: PropTypes.string,\n    speed: PropTypes.number.isRequired,\n    nextIndex: PropTypes.func.isRequired,\n};\n\nDude.defaultProps = {\n    message: '',\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Header.module.css';\n\nfunction renderMessage(message, index) {\n    const letters = [];\n    for (let i = 0; i < message.length; i += 1) {\n        const char = message[i];\n        const classes = [styles.char];\n        if (i < index) classes.push(styles.past);\n        else if (i === index) classes.push(styles.current);\n        else classes.push(styles.future);\n        letters.push(<div key={`char-${i + 1}`} className={classes.join(' ')}>{i > index ? ' ' : char}</div>);\n    }\n\n    console.log(letters);\n\n    return <div className={styles.message}>{letters}</div>;\n}\n\nconst Header = ({ message, index }) => (\n    <div className={styles.header}>\n        {message ? renderMessage(message, index) : renderMessage('Semaphore', 9)}\n    </div>\n);\n\nHeader.propTypes = {\n    message: PropTypes.string,\n    index: PropTypes.number,\n};\n\nHeader.defaultProps = {\n    message: '',\n    index: -1,\n};\n\nexport default Header;\n","import React from 'react';\nimport GithubCorner from 'react-github-corner';\nimport {\n    Controls,\n    Create,\n    Dude,\n    Header,\n} from './Components';\nimport styles from './App.module.css';\n\nconst speeds = [0.25, 0.5, 1, 2, 5, 10];\n\nexport default class App extends React.Component {\n    constructor(props) {\n        super(props);\n\n        let message = '';\n\n        // parse message from URL\n        const urlParams = new URLSearchParams(window.location.search);\n        if (urlParams.has('m')) {\n            message = urlParams.get('m');\n            message = atob(message).substr(0, 17);\n        }\n\n        this.state = {\n            speed: 1,\n            isPaused: false,\n            message,\n            playNumber: 1,\n            index: -1,\n        };\n\n        this.dudeRef = React.createRef();\n    }\n\n    setSpeed = (direction) => {\n        const { speed } = this.state;\n\n        let index = speeds.indexOf(speed);\n        index += direction;\n        index = Math.max(Math.min(speeds.length - 1, index), 0);\n        if (index !== speeds.indexOf(speed)) {\n            this.setState({ speed: speeds[index] });\n        }\n    }\n\n    togglePause = () => {\n        const { isPaused } = this.state;\n        this.setState({ isPaused: !isPaused });\n        if (this.dudeRef.current) {\n            this.dudeRef.current.setPaused(!isPaused);\n        }\n    }\n\n    replay = () => {\n        const { playNumber } = this.state;\n        this.setState({ index: -1, playNumber: playNumber + 1 });\n    }\n\n    nextIndex = () => {\n        const { index } = this.state;\n        this.setState({ index: index + 1 });\n    }\n\n    render() {\n        const {\n            message,\n            speed,\n            isPaused,\n            playNumber,\n            index,\n        } = this.state;\n        return (\n            <div className={styles.app}>\n                <Header message={message} index={index} />\n                <Dude\n                    key={`play-${playNumber}`}\n                    ref={this.dudeRef}\n                    message={message}\n                    speed={isPaused ? 0 : speed}\n                    nextIndex={this.nextIndex}\n                />\n                {message ? (\n                    <Controls\n                        speed={speed}\n                        isPaused={isPaused}\n                        togglePause={this.togglePause}\n                        setSpeed={this.setSpeed}\n                        replay={this.replay}\n                    />\n                ) : null}\n                <Create isReply={!!message} />\n                <GithubCorner href=\"https://github.com/jack-green/semaphore\" />\n            </div>\n        );\n    }\n}\n","/* eslint-disable */\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost'\n    // [::1] is the IPv6 localhost address.\n    || window.location.hostname === '[::1]'\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    || window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service '\n              + 'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all '\n                  + 'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404\n        || (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}